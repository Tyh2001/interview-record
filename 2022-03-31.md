# 2022-03-31 面试复盘

## 技术面

面：先自我介绍一下吧。

我：（自我介绍）

面：你先详细介绍一下你的开源组件库吧。其实我详细看了你的组件库和 github，你认为你封装的组件的优点和缺点在哪里？

我：在大多数的组件库中它们现在大多数都是使用的 jsx，我的组件库使用的是 template 写的，更适合刚接触 vue3 的人，更适合了解组件的实现原理，使用 template 写更适合阅读，jsx 写的不是很适合阅读源码，我的组件库比较轻量级，实现了组件大多数的功能。

面：你的组件库是你自己封装的是吗？

我：嗯对。

面：vue 的一些常用的生命周期有哪些？

我：创建前、创建完成、挂载前、挂载完成、更新前、更新完成、销毁前、销毁完成。

面：vue 数据的双线绑定是怎么实现的。

我：vue3 使用的是 es6 新增的 proxy 进行的代理，使用 get 和 set 进行的数据劫持，然后更新。

面：2 呢？

我：2 是使用的 Object.defineProperty。

面：vue3 怎么实现组件传值。

我：父组件给子组件传递可以通过属性传递，子组件向父组件传递可以通过 emit 方法进行传递，如果不是父子组件可以通过 vue 内置的 provide/inject 依赖注入，可以在父组件注入一个依赖，然后不管嵌套多深的子组件都可以访问。

面：你组件库重写了 script 里面的东西，我像知道你的组件库中那一块的功能模块使用到了？还是全部重写了？

我：全部都重写了。

面：在浏览器上输入一个 url 地址之后会发生什么呢？

我：这就是会由三次握手嘛。

> 这题我真不太会，没太记住。。。

面：你们性能优化是怎么优化的呢？

我：优化分为组件优化和官网优化，组件优化是将里面的组件里面的每个方法都封装成一个大的函数，然后通过解构的方式进行获取，保证暴露在外面的每个函数都是对模板有用的。官网优化，官网使用了代码优化的插件叫 highlight.js，那个包的体积非常达，我就将那个包的源码拆分出来了，拆出来了 4~5 个文件，我有将它发布成了另外的一个包，然后可以减少体积。然后第二次优化将图片转换为了在线图片的方式，减少包的体积了。

> 这个包叫 [bright-code](https://github.com/Tyh2001/bright-code) 是我自己写的。

面：还有其他的吗？

我：主要是减少包的体积。

面：为什么刚开始有 2MB 那么大？

我：引入的东西全是完整引入。

面：那么你们后期是怎么引入的？

我：就保证引入的每一个函数都是有用的。

面：你们是按照函数的方式引入的是吧？那么你们有没有考虑从组件的方面进行入手呢？

我：组件的话，只是有一些细微的减少代码量，做到用最少的代码实现相同的效果。

面：vue 的 v-if 和 v-show 的区别是什么？

我：v-show 如果等于 false，那么就会在标签上作用 display: none 的属性，如果 v-if="false" 如果频道的进行现实和隐藏，可以使用 v-show 如果只显示一次或者少次就使用 v-if。

面：css 中怎么实现垂直居中？

我：可以使用 flex 布局。给父级的容器设置为 display: flex，然后 justify-content: center;align-items: center;。

面：还有吗？

我：还有通过定位，给父元素设置相对定位，然后给子元素设置绝对定位，上下左右都是 0，然后 margin: auto。

面：call、apply、bind 直接的区别是什么？共同点是什么呢？

我：call 和 apply 都是可以立即调用函数，bind 是返回一个函数再进行调用。call 传递是字符串，apply 传递是是数组，它们都可以改变 this 的指向。

面：vue 的实例都是挂载到 html 的哪个标签上的呢？

我：#app 标签上。

面：是对 html 页面的标签，不是对 vue 里面的#app，就是 #app 挂载到的是 html 页面的哪个标签上的？

我：body 标签里面。

面：vuex 里面的几个特性是什么？

我：state、Mutation、Action，还有一个类似于计算属性的那个，还有一个不记得了。

面：computed 和 watch 有什么区别？

我：computed 是计算属性，可以返回一个计算的结果，watch 是监视一个值，如果这个值发生变化了，就会执行。

面：你认为你们开发的组件库有什么缺点？或者是后期有待提升的是哪一点？

我：我现在主要在做项目的构建方面，还有组件想让它有更多的功能。

面：你认为你的组件库哪里比较优秀，对比其他的第三方组件库来说。

我：比较轻量级，体积非常小。

面：element 都很轻量级，都可以按需加载。那么你的相对于它们的来说，有什么更由于它们的呢？

我：更适合新手使用。

面：我看了一些你们的组件库，感觉你们的 ui 好丑。因为你们的 css，可以更细致化一点。

我：哈哈。

面：let、var、const 的区别是什么？还有变量提升？

我：var 的变量可以全局访问的，作用在 window 下的，let 不能重复声明，有块级作用域，它不能通过 window 访问。const 是常量，不能重复声明，一旦声明就不能更改。

面：什么是闭包？

我：会导致内存泄漏。

面：js 中有哪些会导致内存泄漏的呢？

我：（略）

面：怎么解决闭包这种显现呢？因为在外面函数就不能调用内部的函数了呀。

我：尽量少使用闭包吧。

面：节流和防抖的区别是什么？

我：节流的话，比如说一个浏览器滚动才会触发的逻辑，那么它会在滚动停止会触发一次，节流是在指定毫秒后触发一次。

面：你对接使用过 axios 吗？

我：我的组件没用使用过。其他的项目使用过。

面：promise 有什么特点呢？

我：promise 有三种状态，一个是等待状态，一个是可以的状态，还有一个是拒绝的状态。它有 then 方法，可以处理成功和失败，还有点 then 可以处理异常的状态。

面：你说的是它的方法，其实我像问的是它有哪些特点？

我：它是解决回调地狱的。

面：微任务宏任务了解吗？那你说一下什么是微任务什么是宏任务。它们的执行顺序是怎么样的呢？

我：任务分为主进程，微任务，宏任务，类似与异步的定时器，就属于的宏任务，promise 就是微任务，那么执行顺序就是：主任务先执行，然后是 promise 然后是定时器的异步函数。

面：你们上线都是怎么上线的啊？

我：上线就说直接将本地打包好的放到服务器上就好了。

面：是你自己放的吗？

我：对呀。

面：如果你本地打包以后并没有办法双击本地运行，那么你这是怎么解决的呢？

我：在 vite.config.js 配置 baseUrl 为 ./

面：./ 还是打不开的。

我：对 vite 的是打不开的，webpack 是可以打开的。我之前配置了 ./ 也是不生效，然后我丢到服务器上然后就可以了。要不也可以启动一个本地服务也可以打开。

面：如果现在就是一个 vite 项目，然后就想在本地打开，让其他程序去嵌它，怎么搞呢？

我：这个没有做过。

面：如果现在让你去做这些，你会从那个方面去入手呢？

我：我认为是 vite 的配置的问题。

面：你认识是配置的问题是吧？那么你感觉你会在这上面话费多少时间去做呢？比如现在让你去做这种嵌的功能，让你做需要多长时间？

我：我认为如果是配置的问题，应该是比较快呢。

面：但是其实官方就是不支持。因为我也试过。

我：本来就是不支持的吗？

面：对，本身就是不支持，因为如果配置为 / ，是可以的，如果是 ./ 是不支持的。es6 新增的 ... 是干什么的？

我：数组的话可以展开数组，对象的话可以展开对象。

面：数据扁平化了解吗？

我：不太了解。

面：你做过什么小程序之类的吗？

我：小程序有做过，但是小程序比较少。

面：有上线的吗？

我：上线的有一个是我自己做的。

面：是什么类型的呢？因为我看简历上面并没有写。

我：那个是我给我女朋友做的一个小程序。

面：哦~秀恩爱的。

我：哈哈。

面：你的小程序是用的什么技术栈做的？

我：小程序就是……

面：原生的吗？

我：对，原生的。

面：我看你组件封转这一块写的比较多，然后还写了组件库，那么你在组件封转这一块，是怎么样的思想去封转的呢？你认为什么样的组件是需要封装的。因为我们公司也有很多组件，那么你认为什么样的组件值得你去封装呢？那么怎么样算是比较好的组件呢？

我：组件的话就是可以在项目中会出现很多次嘛，就像这种就会抽离出来。就比如封装的组件配置项比较多，体积比较小，这样的组件算是比较好的组件。

面：组件是直接 import 方法导入的吗？

我：对啊。

面：如果你在使用其他的一些组件库是将全部的组件库都导入进去吗？

我：直接导入啊。

面：如果一次全部导入会引入很多组件，体积会很大，那么你会怎么处理？

我：可以按需导入嘛。可以通过结构的方式，使用哪个就导入哪个。

面：如果你在一个页面中，使用到了四个组件，但是这四个组件很消耗内存，现在让你处理这一块你会怎么处理？就是我们公司同事写的，他写了四个组件，在一个页面中使用。

我：一个页面导入四个组件，然后这个组件太大了吗？

面：是的，让你做性能优化。因为 vue 就是这样只要是有关系有关联，它都会打包进去。我现在以为按需加载，执行到哪一步就加载哪个组件。

我：这个我没用做过，这个可能就是尽可能减少组件内部的代码吧。

面：其实可以使用动态组件去导入，执行到哪一个再去执行它对应的方法，接下来可能就是使用 v-if 这些，就是说不要一次性导入那么多，让它导入有先后及，可能就是一个页面中，有些方法和组件可以让他提前去加载，加载完之后让他再去加载一些其他的组件或内容。

我：哦哦~

面：或者 css，我们可能会使用 cdn 的方式进行加载，或者是第三方库。

我：哦哦~

面：我看你下面是有一个花旗银行的项目是吧？下面使用了一个 localStorage 和 vuex 缓存用户数据，那么你这里面有存在一个子域共享的一个问题吗？

我：我没太明白。

面：子域共享，就是我将项目部署到服务器上了之后，地址就是一个 url 嘛，我们可能在它旗下还有有个服务，我们希望它们之间的数据可以存在互通。

我：就是在一个域名下是吗？

面：对。

我：这个没用做唉。

面：既然上面使用了 localStorage，那么为什么还会用到 vuex 呢？

我：因为 vuex 不能数据持久化呀，就是像保留用户的登陆信息。

面：vuex 页面一刷新页面数据会丢失吗？

我：是的，会丢失。

面：那么你是怎么优化的呢？

我：所以这个使用了 localStorage 里面了呀。

面：那么你怎么没用存储到 sessionStorage 里面呢？

我：这个其实都是类似的，只不过那个关闭浏览器就会删除嘛。

面：你在这个投票系统中主要负责哪些功能呢？我看你就是做了一个事实展示的平台。你们这个功能大概有哪些功能呢？这是一个在线项目吗？

我：嗯嗯，是的。这个项目是我做的全栈，前端有一个用户输入 id，然后还有投票页面和结果页面。

面：那你用过 echarts 吗？

我：用到，在结果页面中，用柱状图展示了投票结构。

面：如果让你用 echarts 做一个效果，那么在 demo 里并没有你想要的效果，那么你会怎么做？

我：那么可能会换一个其他的可视化平台吧。

面：换一个其他平台是吧？有没用考虑从它的 api 方面入手呢？因为它的 demo 也是，它肯定会有一些 api 没有在 demo 中显示出来的。

我：我对 echarts 了解并不是很多。

面：你在做你的项目中难点有什么？

我：花旗的项目之前遇到过跨域的问题，还有传参的问题。

面：跨域你是怎么解决的？

我：我在后端设置为请求头设置为\*，就可以全部都访问了，或者在前端设置服务器代理。

面：还有其他的吗？

我：还有 jsp 跨域，那个在项目中没有使用。在组件库中有些组件设计起来比较难的，也参考了一些其他组件库的源码。

面：我看了你的组件库，我下载下来看了，有 44 个人关注，有 5 个人收藏了你。

我：哈哈哈。

面：我看你一般学习都通过什么途径呢？

我：最近在看书，那本《Vue.js 设计与实现》，还有看文档。

面：一般都是通过书籍和文档入手是吧？

我：嗯。

## 产品面

面：我看你前面一家公司写的是那边已经达到巅峰没用提升了。

我：哈哈哈哈，对。

面：我看你这边的项目中，哪些是你们公司的项目呢？

我：花旗的是。

面：做了多久？

我：做了一个月。

面：还有没有其他的项目可以说一下的？你是觉得都太简单了吗？

我：基本都是一些 h5 的项目，除了投票的项目还有一个问卷调查，上面有一些选项的，给花旗那边使用的。

面：你是觉得那边技术栈太简单了是吗？那边都是静态页面，都是 h5？

我：对。

面：你希望下一份工作在技术上，你有哪些要求？

我：我感觉性能这一块还是比较有挑战的。

面：还有其他的吗？

我：还有就说整体的复杂度。

面：希望有挑战性更高的？

我：对。

面：你前面这些静态页面有什么收获呢？或者在这工作一年，有什么收获呢？

我：收获是让我接触到一些后端还有服务器相关，这是我之前没接触过的。然后包括花旗的后端也是我写的。

面：你们之前的人员结构是怎么样的？

我：一共开发就两个人。

面：一个就两个？一个后端一个前端？

我：对，另一个是后端和前端都会，但是主要是做后端。但是我们之前的公司并不是主要做开发，公司有 50 多个人分成很多模块，有做电商直播的，有做广告的，有做设计的，还有我做开发的。

面：你有什么想要了解的吗？

我：请问咱们公司主要做什么呢？

面：（略）

我：那您感觉我还有需要提升的吗？

面：你现在的重点全部都是放在了封装组件这一块，其实你对实际的项目开发还有很多是没有了解透的，但是像我们公司的请求这一块，可能没有怎么去了解，然后 css 这一块我只是问了一些简答的 css，感觉还可以，主要是在开发上的一些功能的实际开发经验偏少，你现在缺少的是项目去支撑你的那些理论知识。因为你很多都是去封装组件，因为我也是去看了你在组件库，因为在实际开发中，我这边，可能在优化上缺少一些经验，其实你们包的体积还是蛮大的。后期可以再去优化一下你们的组件库。

我：如果我有幸拿到咱们公司的 offer 的话，那么我需要提前先学习哪些东西可以上手工作呢？

面：也不用学习什么，因为你的技术很够，很我们也没差多少，我们现在使用的是 vue2，axios，或者 element-ui，还有小程序和 app，小程序使用的是 uni-app 或者 vant，可能会配置离线打包，因为你这边应该是没有离线打包的经历，离线打包我们是要配合安卓进行的。其实我们的技术栈蛮丰富的。

我：平时咱们公司管理代码都是使用什么呢？

面：gitee，你还有什么想问的呢？

我：没用其他的了。

结束。
